---
layout: post
title: es6 react
date: 2018-5-25
categories: react
tags: [react]
description: 边学边记录。
---

### ES6

Javascript 新一代标准 2015年6月正式发布 [http://es6.ruanyifeng.com/](http://es6.ruanyifeng.com/)

`箭头函数`
{% highlight Perl %}
var f = () => 5;
// 等同于
var f = function () { return 5 };
{% endhighlight %}
> 如果箭头函数的代码块部分多于一条语句，就要使用大括号将它们括起来，并且使用return语句返回

---
`变量的解构赋值`
{% highlight Perl %}
function example() {
	return {
		foo: 1,
		bar: 2
	};
}
let { foo, bar } = example();
{% endhighlight %}
> 将example返回的roo,bar，赋值到对应的变量上，使用起来就会方便很多。

---
`Promise`
{% highlight Perl %}
function timeout() {
	return new Promise(function(resolve, reject) {
	    setTimeout(resolve, 2000, 'wawa');
	})
}

timeout().then(function(val) {
	console.log('haha');
	console.log(val) ;
})
{% endhighlight %}
> 将异步操作以同步操作的流程表达出来，避免了层层嵌套的回调函数then方法可以接受两个回调函数作为参数。第一个回调函数是Promise对象的状态变为resolved时调用，第二个回调函数是Promise对象的状态变为rejected时调用。其中，第二个函数是可选的，不一定要提供。这两个函数都接受Promise对象传出的值作为参数。

---
`Generator 函数`
{% highlight Perl %}
function* prt() {
  yield 'hello';
  yield 'world';
  return 'ending';
}

prt.next();
prt.next();
prt.next();
{% endhighlight %}
> Generator 函数是分段执行的，yield表达式是暂停执行的标记，而next方法可以恢复执行。function关键字与函数名之间有一个星号;函数体内部使用yield表达式

---
`Class（类）`
{% highlight Perl %}
class Human {
    constructor(name, gender) {
        this.name = name;
        this.gender = gender;
    }

    toString(){
        return `name:${this.name} and gender:${this.gender}`;
    }
}

let yq = new Human('yq','man');
console.log(yq.toString());// name:yq and gender:man
{% endhighlight %}
> 定义“类”的方法的时候，前面不需要加上function这个关键字，直接把函数定义放进去了就可以了。另外，方法之间不需要逗号分隔，加了会报错

---
`模板字符串`
{% highlight Perl %}
class Human {
    constructor(name, gender) {
        this.name = name;
        this.gender = gender;
    }

    toString_1() {
        return `name:${this.name} and gender:${this.gender}`;
    }
    toString_2() {
        return "name:" + this.name + "and gender:" + this.gender;
    }
}
{% endhighlight %}
> toString_1: 传统的 JavaScript 语言
> toString_2: 模板字符串（template string）是增强版的字符串，用反引号（`）标识。它可以当作普通字符串使用，也可以用来定义多行字符串，或者在字符串中嵌入变量。

### React

React 本身只涉及UI层，如果搭建大型应用，必须搭配一个前端框架。也就是说，你至少要学两样东西，才能基本满足需要：React + 前端框架
构建前端界面的Javascript库 [http://huziketang.mangojuice.top/books/react/lesson1](http://huziketang.mangojuice.top/books/react/lesson1)

|react-redux|||
|react-router|||
|react-router-redux|||

### Redux

状态管理容器 [http://www.redux.org.cn/](http://www.redux.org.cn/)

|1）存放应用程序状态的容器2）一种把 action 分发到状态修改器的机制，也就是 reducer 函数3）监听状态变化的机制||应用程序的数据称为状态|
||||

### Redux-saga

用于管理 action，处理异步逻辑[https://redux-saga-in-chinese.js.org/](https://redux-saga-in-chinese.js.org/)

||||
||||

### Roadhog

可配置版的 create-react-app [https://github.com/sorrycc/roadhog/blob/master/README_zh-cn.md](https://github.com/sorrycc/roadhog/blob/master/README_zh-cn.md)

### Flux

单向数据流;Flux 是一种架构思想，专门解决软件的结构问题。它跟MVC 架构是同一类东西，但是更加简单和清晰 [http://www.ruanyifeng.com/blog/2016/01/flux.html](http://www.ruanyifeng.com/blog/2016/01/flux.html)

### Dva

基于 ReduxRedux-sagaReact-router 的轻量级前端框架 [https://github.com/dvajs/dva/blob/master/README_zh-CN.md](https://github.com/dvajs/dva/blob/master/README_zh-CN.md)

|connect|||
||||
||||


### dva.js 知识导图

[https://github.com/dvajs/dva-knowledgemap](https://github.com/dvajs/dva-knowledgemap)
![图片]({{ site.baseurl }}/img/post/dva.png)


