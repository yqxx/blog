---
layout: post
title: ESLint 代码检查工具
date: 2018-10-31
categories: javascript
tags: [javascript,vue]
description: 边学边记录。
---

> ESLint 用于Javascript和JSX代码规范检查的利器，很多大公司比如Airbnb和Google均有一套自己的Javascript编码规范，而规范的实施背后离不开ESLint的支持

`.eslintrc.js`
{% highlight Perl %}
module.exports = {
  root: true,
  // 共享配置
  'extends': [
	// https://github.com/vuejs/eslint-plugin-vue#priority-a-essential-error-prevent
    // ion consider switching to `plugin:vue/strongly-recommended` or
    // `plugin:vue/recommended` for stricter rules.
    'plugin:vue/essential',
	// https://github.com/standard/standard/blob/master/docs/RULES-en.md
    '@vue/standard'
  ],
  rules: {
    // 生成器函数*的前后空格
    'generator-star-spacing': 'off',
    // 禁止使用debugger
    'no-debugger': process.env.NODE_ENV === 'production' ? 'error' : 'off',
	// 忽略某些不常规的闭合标签报错
    'vue/no-parsing-error': [2, { 'x-invalid-end-tag': false }],
	// 关闭不能有未定义的变量
    'no-undef': 'off'
  }
}
{% endhighlight %}


`ESLint的规则三种级别`
- 'off'或者0，不启用这个规则
- 'warn'或者1，出现问题会有警告
- 'error'或者2，出现问题会报错

`详细的配置内容在这里`

[https://github.com/AlloyTeam/eslint-config-alloy/blob/master/index.js](https://github.com/AlloyTeam/eslint-config-alloy/blob/master/index.js)

[https://alloyteam.github.io/eslint-config-alloy/](https://alloyteam.github.io/eslint-config-alloy/)


`vscode格式化配置`

文件 > 首选项 > 设置
![图片]({{ site.baseurl }}/img/post/eslint-vscode-02.png)
{% highlight Perl %}
{
	// 按编辑器自带的ts格式进行格式化
    "vetur.format.defaultFormatter.js": "vscode-typescript",
	// 在函数参数括号前定义空格处理
    "javascript.format.insertSpaceBeforeFunctionParenthesis": true
}
{% endhighlight %}
快捷键 Alt+Shift+F 进行格式化

`常见警告`

![图片]({{ site.baseurl }}/img/post/eslint-warning-02.png)

{% highlight Perl %}
// Strings must use singlequote (quotes)
// 字符串需用单引号

// Extra semicolon (semi)
// 不要使用分号

// Missing space before function parentheses (space-before-function-paren)
// 函数括号左右留空格

// Trailing spaces not allowed (no-trailing-spaces)
// 不允许尾随空格

// Newline required at end of file but not found (eol-last)
// 最后一行加换行

// Expected error to be handled (handle-callback-err)
// 没使用定义的变量

// Unnecessary return statement (no-useless-return)
// 不必要的返回语句（无无用的返回）

// Expected indentation of 4 spaces but found 8 (indent)
// 缩进设置问题

// Split initialized 'var' declarations into multiple statements
// 变量拼写问题，var a,b，需要拆分开来
{% endhighlight %}